# 查询调用链<a name="apm_04_0015"></a>

## 功能介绍<a name="s2a366668115d445cba08c4eff71a25aa"></a>

根据查询条件，查询调用链数据。

## URI<a name="s8bbcb1433ca74a15850fb4e19563089d"></a>

GET /v1/\{project\_id\}/ats/traces

## 请求消息<a name="sec517ec377ef416fa8ef7faa4b1070c8"></a>

**请求消息头**

请求消息头如[表1 请求消息头](#t37ed82336fd54c0baa5bdfae5a0e7be7)所示。

**表 1**  请求消息头

<a name="t37ed82336fd54c0baa5bdfae5a0e7be7"></a>
<table><thead align="left"><tr id="rddf1af8d4ffa42c1a755f97c872902c7"><th class="cellrowborder" valign="top" width="22%" id="mcps1.2.5.1.1"><p id="zh-cn_topic_0082840623_p896519551632"><a name="zh-cn_topic_0082840623_p896519551632"></a><a name="zh-cn_topic_0082840623_p896519551632"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="28.999999999999996%" id="mcps1.2.5.1.2"><p id="zh-cn_topic_0082840623_p842319261356"><a name="zh-cn_topic_0082840623_p842319261356"></a><a name="zh-cn_topic_0082840623_p842319261356"></a>描述</p>
</th>
<th class="cellrowborder" valign="top" width="23%" id="mcps1.2.5.1.3"><p id="a6b45f135fdd14f19b7fb1139caed3316"><a name="a6b45f135fdd14f19b7fb1139caed3316"></a><a name="a6b45f135fdd14f19b7fb1139caed3316"></a>是否为必选</p>
</th>
<th class="cellrowborder" valign="top" width="26%" id="mcps1.2.5.1.4"><p id="zh-cn_topic_0082840623_p199652552316"><a name="zh-cn_topic_0082840623_p199652552316"></a><a name="zh-cn_topic_0082840623_p199652552316"></a>示例</p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0082840623_row1965855731"><td class="cellrowborder" valign="top" width="22%" headers="mcps1.2.5.1.1 "><p id="ad868f66c1b82496fa21420bff346f5fc"><a name="ad868f66c1b82496fa21420bff346f5fc"></a><a name="ad868f66c1b82496fa21420bff346f5fc"></a>clusterId</p>
</td>
<td class="cellrowborder" valign="top" width="28.999999999999996%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0082840623_p15960745066"><a name="zh-cn_topic_0082840623_p15960745066"></a><a name="zh-cn_topic_0082840623_p15960745066"></a>集群ID</p>
</td>
<td class="cellrowborder" valign="top" width="23%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0082840623_p896512555311"><a name="zh-cn_topic_0082840623_p896512555311"></a><a name="zh-cn_topic_0082840623_p896512555311"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="26%" headers="mcps1.2.5.1.4 "><p id="aea08c7c5bb304a80a6f8acb392ff88ec"><a name="aea08c7c5bb304a80a6f8acb392ff88ec"></a><a name="aea08c7c5bb304a80a6f8acb392ff88ec"></a>default</p>
</td>
</tr>
<tr id="r52c872f35cc24f33ba0130f4783b9c28"><td class="cellrowborder" valign="top" width="22%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0082840623_p186405409364"><a name="zh-cn_topic_0082840623_p186405409364"></a><a name="zh-cn_topic_0082840623_p186405409364"></a>namespace</p>
</td>
<td class="cellrowborder" valign="top" width="28.999999999999996%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0082840623_p20961245969"><a name="zh-cn_topic_0082840623_p20961245969"></a><a name="zh-cn_topic_0082840623_p20961245969"></a>命名空间</p>
</td>
<td class="cellrowborder" valign="top" width="23%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0082840623_p978445511610"><a name="zh-cn_topic_0082840623_p978445511610"></a><a name="zh-cn_topic_0082840623_p978445511610"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="26%" headers="mcps1.2.5.1.4 "><p id="zh-cn_topic_0082840623_p99660551436"><a name="zh-cn_topic_0082840623_p99660551436"></a><a name="zh-cn_topic_0082840623_p99660551436"></a>manage</p>
</td>
</tr>
</tbody>
</table>

**路径参数**

路径参数[表2 路径参数](#table1832052613014)如所示。

**表 2**  路径参数

<a name="table1832052613014"></a>
<table><thead align="left"><tr id="row173201526705"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p9493143210011"><a name="p9493143210011"></a><a name="p9493143210011"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p7508332209"><a name="p7508332209"></a><a name="p7508332209"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p15081832303"><a name="p15081832303"></a><a name="p15081832303"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row113201267010"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p1550853211012"><a name="p1550853211012"></a><a name="p1550853211012"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p55081232707"><a name="p55081232707"></a><a name="p55081232707"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p15089324016"><a name="p15089324016"></a><a name="p15089324016"></a>工程ID</p>
</td>
</tr>
</tbody>
</table>

**请求参数**

请求参数如[表3 请求参数](#tf1fb1f22730346339b995f1059c7bf37)所示。

**表 3**  请求参数

<a name="tf1fb1f22730346339b995f1059c7bf37"></a>
<table><thead align="left"><tr id="rc43048b0586b437a9d195e817edef4fd"><th class="cellrowborder" valign="top" width="16.38%" id="mcps1.2.6.1.1"><p id="a233f2d16045d4a48a7bc689dd5bdd6d1"><a name="a233f2d16045d4a48a7bc689dd5bdd6d1"></a><a name="a233f2d16045d4a48a7bc689dd5bdd6d1"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="15.879999999999999%" id="mcps1.2.6.1.2"><p id="a7a00ed270620431eb02d80d53c14c604"><a name="a7a00ed270620431eb02d80d53c14c604"></a><a name="a7a00ed270620431eb02d80d53c14c604"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="15.040000000000001%" id="mcps1.2.6.1.3"><p id="a1911bb7c3532449082f84039c5d690b0"><a name="a1911bb7c3532449082f84039c5d690b0"></a><a name="a1911bb7c3532449082f84039c5d690b0"></a>取值类型</p>
</th>
<th class="cellrowborder" valign="top" width="26.919999999999998%" id="mcps1.2.6.1.4"><p id="a4c6201781a9f4f7580ec3cb7200bfbb9"><a name="a4c6201781a9f4f7580ec3cb7200bfbb9"></a><a name="a4c6201781a9f4f7580ec3cb7200bfbb9"></a>取值范围</p>
</th>
<th class="cellrowborder" valign="top" width="25.779999999999998%" id="mcps1.2.6.1.5"><p id="ae513fd85546f42ba90463e96f65d382c"><a name="ae513fd85546f42ba90463e96f65d382c"></a><a name="ae513fd85546f42ba90463e96f65d382c"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="r93574bd24da34cd1ac3fdd9b8cdf298f"><td class="cellrowborder" valign="top" width="16.38%" headers="mcps1.2.6.1.1 "><p id="a3c96ac668b37439cba8090784deb9db9"><a name="a3c96ac668b37439cba8090784deb9db9"></a><a name="a3c96ac668b37439cba8090784deb9db9"></a>startTime</p>
</td>
<td class="cellrowborder" valign="top" width="15.879999999999999%" headers="mcps1.2.6.1.2 "><p id="zh-cn_topic_0082840623_p252863710718"><a name="zh-cn_topic_0082840623_p252863710718"></a><a name="zh-cn_topic_0082840623_p252863710718"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15.040000000000001%" headers="mcps1.2.6.1.3 "><p id="zh-cn_topic_0082840623_p953023717716"><a name="zh-cn_topic_0082840623_p953023717716"></a><a name="zh-cn_topic_0082840623_p953023717716"></a>long</p>
</td>
<td class="cellrowborder" valign="top" width="26.919999999999998%" headers="mcps1.2.6.1.4 "><p id="zh-cn_topic_0082840623_p953317376717"><a name="zh-cn_topic_0082840623_p953317376717"></a><a name="zh-cn_topic_0082840623_p953317376717"></a>&lt;endTime</p>
</td>
<td class="cellrowborder" valign="top" width="25.779999999999998%" headers="mcps1.2.6.1.5 "><p id="zh-cn_topic_0082840623_p16535737973"><a name="zh-cn_topic_0082840623_p16535737973"></a><a name="zh-cn_topic_0082840623_p16535737973"></a>调用链查询开始时间(单位ms)</p>
</td>
</tr>
<tr id="rff8b6ed755e1404daae026795c142f47"><td class="cellrowborder" valign="top" width="16.38%" headers="mcps1.2.6.1.1 "><p id="a3a7eba8af28d46178dda807510a00e2f"><a name="a3a7eba8af28d46178dda807510a00e2f"></a><a name="a3a7eba8af28d46178dda807510a00e2f"></a>endTime</p>
</td>
<td class="cellrowborder" valign="top" width="15.879999999999999%" headers="mcps1.2.6.1.2 "><p id="zh-cn_topic_0082840623_p754193714714"><a name="zh-cn_topic_0082840623_p754193714714"></a><a name="zh-cn_topic_0082840623_p754193714714"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15.040000000000001%" headers="mcps1.2.6.1.3 "><p id="zh-cn_topic_0082840623_p554403711717"><a name="zh-cn_topic_0082840623_p554403711717"></a><a name="zh-cn_topic_0082840623_p554403711717"></a>long</p>
</td>
<td class="cellrowborder" valign="top" width="26.919999999999998%" headers="mcps1.2.6.1.4 "><p id="zh-cn_topic_0082840623_p175457371575"><a name="zh-cn_topic_0082840623_p175457371575"></a><a name="zh-cn_topic_0082840623_p175457371575"></a>&gt;startTime</p>
</td>
<td class="cellrowborder" valign="top" width="25.779999999999998%" headers="mcps1.2.6.1.5 "><p id="a73fb25f48cf7483e9398ddbd32122829"><a name="a73fb25f48cf7483e9398ddbd32122829"></a><a name="a73fb25f48cf7483e9398ddbd32122829"></a>调用链查询结束时间(单位ms)</p>
</td>
</tr>
<tr id="zh-cn_topic_0082840623_row6222555863"><td class="cellrowborder" valign="top" width="16.38%" headers="mcps1.2.6.1.1 "><p id="a905b7026578e466587815e7a26fb1c4a"><a name="a905b7026578e466587815e7a26fb1c4a"></a><a name="a905b7026578e466587815e7a26fb1c4a"></a>application</p>
</td>
<td class="cellrowborder" valign="top" width="15.879999999999999%" headers="mcps1.2.6.1.2 "><p id="zh-cn_topic_0082840623_p555514371078"><a name="zh-cn_topic_0082840623_p555514371078"></a><a name="zh-cn_topic_0082840623_p555514371078"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15.040000000000001%" headers="mcps1.2.6.1.3 "><p id="zh-cn_topic_0082840623_p355793712716"><a name="zh-cn_topic_0082840623_p355793712716"></a><a name="zh-cn_topic_0082840623_p355793712716"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="26.919999999999998%" headers="mcps1.2.6.1.4 "><p id="a51fa8572d05e4da38350ffdf0550359c"><a name="a51fa8572d05e4da38350ffdf0550359c"></a><a name="a51fa8572d05e4da38350ffdf0550359c"></a>参见<a href="查询服务列表.md">查询服务列表</a></p>
</td>
<td class="cellrowborder" valign="top" width="25.779999999999998%" headers="mcps1.2.6.1.5 "><p id="adc3a4b8f0d9846a8bc7f36f92c832a14"><a name="adc3a4b8f0d9846a8bc7f36f92c832a14"></a><a name="adc3a4b8f0d9846a8bc7f36f92c832a14"></a>服务名称</p>
<p id="ad03e72a00f51476d83ea3670f7f02ce0"><a name="ad03e72a00f51476d83ea3670f7f02ce0"></a><a name="ad03e72a00f51476d83ea3670f7f02ce0"></a>服务名称中的英文字母必须小写，如：“test-service”</p>
</td>
</tr>
<tr id="row95833351249"><td class="cellrowborder" valign="top" width="16.38%" headers="mcps1.2.6.1.1 "><p id="p14191937202414"><a name="p14191937202414"></a><a name="p14191937202414"></a>monitorGroup</p>
</td>
<td class="cellrowborder" valign="top" width="15.879999999999999%" headers="mcps1.2.6.1.2 "><p id="p201947376245"><a name="p201947376245"></a><a name="p201947376245"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="15.040000000000001%" headers="mcps1.2.6.1.3 "><p id="p1719673722419"><a name="p1719673722419"></a><a name="p1719673722419"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="26.919999999999998%" headers="mcps1.2.6.1.4 "><p id="p119993714244"><a name="p119993714244"></a><a name="p119993714244"></a>参见<a href="查询应用列表.md">查询应用列表</a></p>
</td>
<td class="cellrowborder" valign="top" width="25.779999999999998%" headers="mcps1.2.6.1.5 "><p id="p8585103512242"><a name="p8585103512242"></a><a name="p8585103512242"></a>应用名称</p>
</td>
</tr>
<tr id="raed78e9415d94e6389aef87805b6eeca"><td class="cellrowborder" valign="top" width="16.38%" headers="mcps1.2.6.1.1 "><p id="zh-cn_topic_0082840623_p35671337676"><a name="zh-cn_topic_0082840623_p35671337676"></a><a name="zh-cn_topic_0082840623_p35671337676"></a>instance</p>
</td>
<td class="cellrowborder" valign="top" width="15.879999999999999%" headers="mcps1.2.6.1.2 "><p id="a1f6ad37043494f88a53e26b757b1b02d"><a name="a1f6ad37043494f88a53e26b757b1b02d"></a><a name="a1f6ad37043494f88a53e26b757b1b02d"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="15.040000000000001%" headers="mcps1.2.6.1.3 "><p id="zh-cn_topic_0082840623_p135728371716"><a name="zh-cn_topic_0082840623_p135728371716"></a><a name="zh-cn_topic_0082840623_p135728371716"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="26.919999999999998%" headers="mcps1.2.6.1.4 "><p id="zh-cn_topic_0082840623_p057473711712"><a name="zh-cn_topic_0082840623_p057473711712"></a><a name="zh-cn_topic_0082840623_p057473711712"></a>参见<a href="查询服务实例列表.md">查询服务实例列表</a></p>
</td>
<td class="cellrowborder" valign="top" width="25.779999999999998%" headers="mcps1.2.6.1.5 "><p id="a9cd6b3b1c781401d9ff13825ab3111b7"><a name="a9cd6b3b1c781401d9ff13825ab3111b7"></a><a name="a9cd6b3b1c781401d9ff13825ab3111b7"></a>实例名称</p>
<p id="zh-cn_topic_0082840623_p55775379712"><a name="zh-cn_topic_0082840623_p55775379712"></a><a name="zh-cn_topic_0082840623_p55775379712"></a>实例名称中的英文字母必须小写，如：“test-service-4195149926-0fvhn”</p>
</td>
</tr>
<tr id="r762982171dfb4b0dba8c69654d4ffc15"><td class="cellrowborder" valign="top" width="16.38%" headers="mcps1.2.6.1.1 "><p id="a5eae078df1e544dba37dfe102b9ad1f4"><a name="a5eae078df1e544dba37dfe102b9ad1f4"></a><a name="a5eae078df1e544dba37dfe102b9ad1f4"></a>transaction</p>
</td>
<td class="cellrowborder" valign="top" width="15.879999999999999%" headers="mcps1.2.6.1.2 "><p id="zh-cn_topic_0082840623_p158419371712"><a name="zh-cn_topic_0082840623_p158419371712"></a><a name="zh-cn_topic_0082840623_p158419371712"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="15.040000000000001%" headers="mcps1.2.6.1.3 "><p id="zh-cn_topic_0082840623_p55861437675"><a name="zh-cn_topic_0082840623_p55861437675"></a><a name="zh-cn_topic_0082840623_p55861437675"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="26.919999999999998%" headers="mcps1.2.6.1.4 "><p id="zh-cn_topic_0082840623_p11587537171"><a name="zh-cn_topic_0082840623_p11587537171"></a><a name="zh-cn_topic_0082840623_p11587537171"></a>参见<a href="查询服务事务列表.md">查询服务事务列表</a></p>
</td>
<td class="cellrowborder" valign="top" width="25.779999999999998%" headers="mcps1.2.6.1.5 "><p id="ad0ad220dcd634c5496896050f9db9d7f"><a name="ad0ad220dcd634c5496896050f9db9d7f"></a><a name="ad0ad220dcd634c5496896050f9db9d7f"></a>事务名称, 如：“GET_/rest/healthz/*”</p>
</td>
</tr>
<tr id="zh-cn_topic_0082840623_row1795831478"><td class="cellrowborder" valign="top" width="16.38%" headers="mcps1.2.6.1.1 "><p id="zh-cn_topic_0082840623_p125973371979"><a name="zh-cn_topic_0082840623_p125973371979"></a><a name="zh-cn_topic_0082840623_p125973371979"></a>limit</p>
</td>
<td class="cellrowborder" valign="top" width="15.879999999999999%" headers="mcps1.2.6.1.2 "><p id="zh-cn_topic_0082840623_p45994372720"><a name="zh-cn_topic_0082840623_p45994372720"></a><a name="zh-cn_topic_0082840623_p45994372720"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="15.040000000000001%" headers="mcps1.2.6.1.3 "><p id="a331d41a9168b4c278e997c7570049bdd"><a name="a331d41a9168b4c278e997c7570049bdd"></a><a name="a331d41a9168b4c278e997c7570049bdd"></a>int</p>
</td>
<td class="cellrowborder" valign="top" width="26.919999999999998%" headers="mcps1.2.6.1.4 "><p id="zh-cn_topic_0082840623_p660493716717"><a name="zh-cn_topic_0082840623_p660493716717"></a><a name="zh-cn_topic_0082840623_p660493716717"></a>&lt;=1000，&gt;0的整数</p>
</td>
<td class="cellrowborder" valign="top" width="25.779999999999998%" headers="mcps1.2.6.1.5 "><p id="a0b2b77c5bcc7442dbfd91d607f172c35"><a name="a0b2b77c5bcc7442dbfd91d607f172c35"></a><a name="a0b2b77c5bcc7442dbfd91d607f172c35"></a>默认为20，单次查询返回的条数限制，最大单次返回1000条</p>
</td>
</tr>
<tr id="r9090936340d1424fbebf428f9c5c99f1"><td class="cellrowborder" valign="top" width="16.38%" headers="mcps1.2.6.1.1 "><p id="zh-cn_topic_0082840623_p106246372714"><a name="zh-cn_topic_0082840623_p106246372714"></a><a name="zh-cn_topic_0082840623_p106246372714"></a>duration</p>
</td>
<td class="cellrowborder" valign="top" width="15.879999999999999%" headers="mcps1.2.6.1.2 "><p id="a1b80b0d3f388494694eb52537457e472"><a name="a1b80b0d3f388494694eb52537457e472"></a><a name="a1b80b0d3f388494694eb52537457e472"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="15.040000000000001%" headers="mcps1.2.6.1.3 "><p id="a0b52442fe9f34e9bab1b1d96c263a5f5"><a name="a0b52442fe9f34e9bab1b1d96c263a5f5"></a><a name="a0b52442fe9f34e9bab1b1d96c263a5f5"></a>int</p>
</td>
<td class="cellrowborder" valign="top" width="26.919999999999998%" headers="mcps1.2.6.1.4 "><p id="zh-cn_topic_0082840623_p46337371779"><a name="zh-cn_topic_0082840623_p46337371779"></a><a name="zh-cn_topic_0082840623_p46337371779"></a>&gt;=0的整数</p>
</td>
<td class="cellrowborder" valign="top" width="25.779999999999998%" headers="mcps1.2.6.1.5 "><p id="zh-cn_topic_0082840623_p4419264383"><a name="zh-cn_topic_0082840623_p4419264383"></a><a name="zh-cn_topic_0082840623_p4419264383"></a>默认为0，调用链最小耗时（单位ms）</p>
</td>
</tr>
<tr id="r124dae9d839948638d4f9a7fd0c35596"><td class="cellrowborder" valign="top" width="16.38%" headers="mcps1.2.6.1.1 "><p id="zh-cn_topic_0082840623_p36398374717"><a name="zh-cn_topic_0082840623_p36398374717"></a><a name="zh-cn_topic_0082840623_p36398374717"></a>status</p>
</td>
<td class="cellrowborder" valign="top" width="15.879999999999999%" headers="mcps1.2.6.1.2 "><p id="zh-cn_topic_0082840623_p56415371879"><a name="zh-cn_topic_0082840623_p56415371879"></a><a name="zh-cn_topic_0082840623_p56415371879"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="15.040000000000001%" headers="mcps1.2.6.1.3 "><p id="zh-cn_topic_0082840623_p26441537976"><a name="zh-cn_topic_0082840623_p26441537976"></a><a name="zh-cn_topic_0082840623_p26441537976"></a>int</p>
</td>
<td class="cellrowborder" valign="top" width="26.919999999999998%" headers="mcps1.2.6.1.4 "><p id="a8db4a8c46d754bd6906c217e4322d0ac"><a name="a8db4a8c46d754bd6906c217e4322d0ac"></a><a name="a8db4a8c46d754bd6906c217e4322d0ac"></a>1：事务执行失败</p>
</td>
<td class="cellrowborder" valign="top" width="25.779999999999998%" headers="mcps1.2.6.1.5 "><p id="zh-cn_topic_0082840623_p96521737872"><a name="zh-cn_topic_0082840623_p96521737872"></a><a name="zh-cn_topic_0082840623_p96521737872"></a>事务状态，默认查询所有状态的数据，为1时查询调用失败的数据</p>
</td>
</tr>
</tbody>
</table>

**请求示例**

```
/v1/0/ats/traces?startTime=1506214200000&endTime=1506214428000&application=datamgmtservice&monitorGroup=apm&limit=1
```

## 响应消息<a name="sae1a29ac336e42868ce00733bd20f638"></a>

**响应参数**

响应参数如[表4 响应参数](#table16411028712)所示。

**表 4**  响应参数

<a name="table16411028712"></a>
<table><thead align="left"><tr id="row6411281413"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p81021837117"><a name="p81021837117"></a><a name="p81021837117"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p12102337911"><a name="p12102337911"></a><a name="p12102337911"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p1510219370114"><a name="p1510219370114"></a><a name="p1510219370114"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row5411281217"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p91181137010"><a name="p91181137010"></a><a name="p91181137010"></a>errorCode</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p1111893716117"><a name="p1111893716117"></a><a name="p1111893716117"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p21182037715"><a name="p21182037715"></a><a name="p21182037715"></a>响应错误码，</p>
<p id="p51187373120"><a name="p51187373120"></a><a name="p51187373120"></a>SVCSTG.ATS.2000：查询成功</p>
<p id="p12118337812"><a name="p12118337812"></a><a name="p12118337812"></a>SVCSTG.ATS.400101：参数校验失败</p>
<p id="p2011813713112"><a name="p2011813713112"></a><a name="p2011813713112"></a>SVCSTG.ATS.200103：没有找到调用链数据</p>
</td>
</tr>
<tr id="row124119281112"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p11118037812"><a name="p11118037812"></a><a name="p11118037812"></a>errorMessage</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p1313423716111"><a name="p1313423716111"></a><a name="p1313423716111"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p71345371711"><a name="p71345371711"></a><a name="p71345371711"></a>响应错误信息描述</p>
</td>
</tr>
<tr id="row84111289111"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p191343370110"><a name="p191343370110"></a><a name="p191343370110"></a>responseInfo</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p121341337012"><a name="p121341337012"></a><a name="p121341337012"></a>result</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p11134737815"><a name="p11134737815"></a><a name="p11134737815"></a>调用链查询结果</p>
</td>
</tr>
</tbody>
</table>

**表 5**  result字段数据结构说明

<a name="table12433182910311"></a>
<table><thead align="left"><tr id="row14433429334"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p580813373310"><a name="p580813373310"></a><a name="p580813373310"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p18081371637"><a name="p18081371637"></a><a name="p18081371637"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p138241237131"><a name="p138241237131"></a><a name="p138241237131"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row143311296312"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p18249376320"><a name="p18249376320"></a><a name="p18249376320"></a>count</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p7824183715314"><a name="p7824183715314"></a><a name="p7824183715314"></a>int</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p88247371035"><a name="p88247371035"></a><a name="p88247371035"></a>本次查询到的调用链数量</p>
</td>
</tr>
<tr id="row843312916316"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p58240370313"><a name="p58240370313"></a><a name="p58240370313"></a>traceChains</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p1684023711313"><a name="p1684023711313"></a><a name="p1684023711313"></a>List&lt;TraceChainBase&gt;</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p684023710314"><a name="p684023710314"></a><a name="p684023710314"></a>调用链数据集合</p>
</td>
</tr>
</tbody>
</table>

**表 6**  TraceChainBase字段数据结构说明

<a name="table21846366414"></a>
<table><thead align="left"><tr id="row1118453610411"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p1898217581845"><a name="p1898217581845"></a><a name="p1898217581845"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p5982145816413"><a name="p5982145816413"></a><a name="p5982145816413"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p159821587418"><a name="p159821587418"></a><a name="p159821587418"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row11184113617414"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p11997105817415"><a name="p11997105817415"></a><a name="p11997105817415"></a>traceId</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p199715581949"><a name="p199715581949"></a><a name="p199715581949"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p1299715582040"><a name="p1299715582040"></a><a name="p1299715582040"></a>调用链的ID，全局唯一</p>
</td>
</tr>
<tr id="row1918412360412"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p109971258445"><a name="p109971258445"></a><a name="p109971258445"></a>type</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p599725812419"><a name="p599725812419"></a><a name="p599725812419"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p189971258546"><a name="p189971258546"></a><a name="p189971258546"></a>服务类型</p>
</td>
</tr>
<tr id="row101841436846"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p71211591248"><a name="p71211591248"></a><a name="p71211591248"></a>status</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p212145913413"><a name="p212145913413"></a><a name="p212145913413"></a>int</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p1128599414"><a name="p1128599414"></a><a name="p1128599414"></a>调用返回状态</p>
</td>
</tr>
<tr id="row181841436444"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p201211591642"><a name="p201211591642"></a><a name="p201211591642"></a>duration</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p201211595413"><a name="p201211595413"></a><a name="p201211595413"></a>long</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p51216591547"><a name="p51216591547"></a><a name="p51216591547"></a>业务调用耗时(单位μs)</p>
</td>
</tr>
<tr id="row81841836841"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p81218591416"><a name="p81218591416"></a><a name="p81218591416"></a>application</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p628175911420"><a name="p628175911420"></a><a name="p628175911420"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p15281459542"><a name="p15281459542"></a><a name="p15281459542"></a>服务名称</p>
</td>
</tr>
<tr id="row518411364413"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p10287591343"><a name="p10287591343"></a><a name="p10287591343"></a>instance</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p828359343"><a name="p828359343"></a><a name="p828359343"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p16281591943"><a name="p16281591943"></a><a name="p16281591943"></a>实例名称</p>
</td>
</tr>
<tr id="row418423616411"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p162815591646"><a name="p162815591646"></a><a name="p162815591646"></a>transaction</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p10441591149"><a name="p10441591149"></a><a name="p10441591149"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p1144115911417"><a name="p1144115911417"></a><a name="p1144115911417"></a>业务调用接口/业务名称</p>
</td>
</tr>
<tr id="row7184193611416"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p12442591548"><a name="p12442591548"></a><a name="p12442591548"></a>startTime</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p124413591449"><a name="p124413591449"></a><a name="p124413591449"></a>long</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p744175919417"><a name="p744175919417"></a><a name="p744175919417"></a>业务调用开始时间(单位μs)</p>
</td>
</tr>
<tr id="row111841236349"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p7593591741"><a name="p7593591741"></a><a name="p7593591741"></a>endTime</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p14593591244"><a name="p14593591244"></a><a name="p14593591244"></a>long</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p9599591146"><a name="p9599591146"></a><a name="p9599591146"></a>业务调用结束时间(单位μs)</p>
</td>
</tr>
<tr id="row618414361846"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p18590591413"><a name="p18590591413"></a><a name="p18590591413"></a>address</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p9597591046"><a name="p9597591046"></a><a name="p9597591046"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p1459359443"><a name="p1459359443"></a><a name="p1459359443"></a>调用发起端IPV4地址</p>
</td>
</tr>
</tbody>
</table>

**响应示例**

```
{
  "errorCode": "SVCSTG.ATS.2000",
  "errorMessage":null,
  "responseInfo": {
    "count": 1,
    "traceChains": [
      {
        "traceId": "000000004fa102d1",
        "type": "TOMCAT_METHOD",
        "status": 0,
        "duration": 10000,
        "application": "datamgmtservice",
        "instance": "datamgmtservice-4267750592-2ngmz",
        "transaction": "/rest/plat/sysmgr/v1/sysagent/alarm/report",
        "startTime": 1506214214095000,
        "endTime": 1506214214105000,
        "address": "192.168.0.1"
      }
    ]
  }
}
```

## 状态码<a name="sb0e13124c02b4a94aee3b8f5cb1b9a5a"></a>

-   正常

    状态码如[表7 状态码](#tc02996f3df714c439b7fcfaddede5b82)所示。   

    **表 7**  状态码

    <a name="tc02996f3df714c439b7fcfaddede5b82"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0082840623_row2481233171"><th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.1"><p id="af533bb17a1b648638235b696d8dcf641"><a name="af533bb17a1b648638235b696d8dcf641"></a><a name="af533bb17a1b648638235b696d8dcf641"></a>状态码</p>
    </th>
    <th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.2"><p id="zh-cn_topic_0082840623_p114811838179"><a name="zh-cn_topic_0082840623_p114811838179"></a><a name="zh-cn_topic_0082840623_p114811838179"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="r721072126ca5465ead35ec4925efb168"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="ae836c5e214ac4151a70fcc58bc0c54a8"><a name="ae836c5e214ac4151a70fcc58bc0c54a8"></a><a name="ae836c5e214ac4151a70fcc58bc0c54a8"></a>200</p>
    </td>
    <td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0082840623_p5481531171"><a name="zh-cn_topic_0082840623_p5481531171"></a><a name="zh-cn_topic_0082840623_p5481531171"></a>请求响应成功</p>
    </td>
    </tr>
    </tbody>
    </table>


